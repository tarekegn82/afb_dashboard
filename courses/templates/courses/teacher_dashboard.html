{% extends "base.html" %}
{% block content %}
<div class="container">
    <h2>Teacher Dashboard</h2>
    <p>Welcome, {{ user.username }}!</p>

    <h2>My Courses & Lessons</h2>

    {% if courses %}
        {% for course in courses %}
            <div class="course-card">
                <h3>{{ course.title }}</h3>
                <a href="{% url 'courses:create_lesson' course.id %}" class="button">Create New Lesson</a>

                <ul>
                    {% for lesson in lessons %}
                        {% if lesson.course.id == course.id %}
                            <li>{{ lesson.title }} - {{ lesson.created_at|date:"Y-m-d" }}</li>
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
        {% endfor %}
    {% else %}
        <p>No courses assigned yet.</p>
    {% endif %}


    <a href="{% url 'courses:create_lesson' 0 %}" class="button">Create New Lesson</a>
</div>
{% endblock %}
